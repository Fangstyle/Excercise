<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>绘制帧动画</title>
</head>
<body>
<canvas id="canvas">
    版本不支持canvas
</canvas>
<script>
    window.onload = function () {
        var convas = document.getElementById("canvas");
        var context = canvas.getContext("2d");
        convas.width = 900;
        canvas.height = 600;
        canvas.style.border ="1px solid #888";


        var deltaTime = 200; //设置帧的间隔时间 ，毫秒
        var spriteSize = 256;//设置 动画精灵的大小。
        var direction = 0;//

        var img = new Image();
        img.src = "images/1.png";
        img.addEventListener("load",function () {
            var i = 0;
            setInterval(function () {
                context.clearRect(100,100,300,300);
                context.drawImage(img,i*spriteSize,direction*spriteSize,spriteSize,spriteSize,100,100,spriteSize,spriteSize);
                i++;
                i%=8;
            },deltaTime);
        });
        document.onkeydown=function(event){
            var e = event || window.event || arguments.callee.caller.arguments[0];
            switch (e.keyCode){
                case 38 ://↑
                    direction = 2;
                    break;
                case 40 ://↓
                    direction = 6;
                    break
                case 37 ://←
                    direction = 0;
                    break;
                case 39: //→
                    direction = 4;
            }
        }
    }
</script>
</body>
</html>